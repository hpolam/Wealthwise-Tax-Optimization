<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WealthWise: Tax Optimization</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    header {
      background-color: #2c3e50;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    nav {
      background-color: #34495e;
      padding: 1rem;
      display: flex;
      justify-content: center;
    }
    nav a {
      color: white;
      margin: 0 1rem;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }
    .container {
      padding: 2rem;
    }
    .question-section {
      display: none;
    }
    .question {
      margin-bottom: 1rem;
    }
    button {
      padding: 0.5rem 1rem;
      background-color: #2ecc71;
      border: none;
      color: white;
      font-size: 1rem;
      cursor: pointer;
    }
    .results {
      margin-top: 2rem;
      padding: 1rem;
      background-color: #ecf0f1;
      border: 1px solid #bdc3c7;
      display: none;
    }
    .income-input {
      margin-bottom: 2rem;
    }
    .expenditures {
      margin-top: 0.5rem;
      display: none;
    }
    .disclaimer {
      font-size: 0.9rem;
      color: #555;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>WealthWise: Tax Optimization</h1>
  </header>

  <nav>
    <a onclick="showSection('deduction-calc')">Calculate My Deductions</a>
  </nav>

  <div class="container">
    <div id="deduction-calc" class="question-section">
      <div class="income-input">
        <label for="filing-status">Select your filing status:</label>
        <select id="filing-status">
          <option value="single">Single</option>
          <option value="head">Head of Household</option>
          <option value="joint">Married Filing Jointly or Surviving Spouse</option>
        </select>
      </div>
      <div class="income-input">
        <label for="income">Enter your income: $</label>
        <input type="number" id="income" placeholder="e.g. 75000" />
      </div>

      <h2>Claim Credits</h2>
      <div class="question">
        <label><input type="checkbox" id="childcare-credit-toggle" /> Employer-provided childcare credit</label>
        <div id="childcare-expenditures" class="expenditures">
          <label>Childcare facility expenditures: $<input type="number" id="facility-exp" /></label><br />
          <label>Resource and referral expenditures: $<input type="number" id="referral-exp" /></label>
        </div>
      </div>
      <div class="question">
        <label><input type="checkbox" id="opp-zone-toggle" /> Opportunity Zones</label>
        <div id="opp-zone-section" class="expenditures">
          <label>Deferred Gain: $<input type="number" id="deferred-gain" /></label><br />
          <label>Fair Market Value of Fund Investment: $<input type="number" id="fair-market-value" /></label><br />
          <label>Basis in Fund Investment: $<input type="number" id="basis-value" /></label>
        </div>
      </div>
      <div class="question">
        <label><input type="checkbox" id="fuel-tax-toggle" /> Fuel Tax Credit (farm/off-road use)</label>
        <div id="fuel-expenses" class="expenditures">
          <label>Fuel Expenses (nontaxable use): $<input type="number" id="fuel-exp" /></label>
        </div>
        <div class="disclaimer">
          The credit is available only for nontaxable uses of gasoline, aviation gasoline, undyed diesel and undyed kerosene. Nontaxable uses are purposes where fuel isnâ€™t used for regular driving purposes, such as:
          <ul>
            <li>On a farm for farming purposes</li>
            <li>Off-highway business use (for equipment, machines, vehicles and tools that operate on private property, farms, or construction sites, not public roads)</li>
            <li>Commercial fishing</li>
            <li>Certain types of buses (intercity, local, or school)</li>
          </ul>
        </div>
      </div>
      <div class="question">
        <label><input type="checkbox" id="clean-vehicle-credit" class="credit" data-value="7500" /> Clean vehicle credits (up to $7,500)</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="5000" /> Credit for builders of energy-efficient homes (up to $5,000)</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="4000" /> Advanced energy project credit</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="2400" /> Work Opportunity Tax Credit (up to $2,400)</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="250" /> Research credit</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="1000" /> Rehabilitation credit</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="800" /> FICA tip credit</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="5000" /> Small employer pension plan startup costs and auto-enrollment (up to $5,000)</label>
      </div>

      <h2>Deduct Expenses</h2>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="1000" /> Energy efficient commercial buildings deduction</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="1500" /> Home office deduction</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="600" /> Standard mileage rates</label>
      </div>
      <div class="question">
        <label><input type="checkbox" class="credit" data-value="1000" /> Business interest deduction</label>
      </div>

      <button onclick="calculateSavings()">Submit</button>

      <div id="results" class="results">
        <h3>Results</h3>
        <p><strong>Income Entered:</strong> $<span id="income-display"></span></p>
        <p><strong>Total Deductions:</strong> $<span id="deduction-total"></span></p>
        <p><strong>Estimated Tax Savings:</strong> $<span id="savings-estimate"></span></p>
      </div>
    </div>
  </div>

  <script>
    function showSection(sectionId) {
      const sections = document.querySelectorAll('.question-section');
      sections.forEach(section => section.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }

    document.getElementById('childcare-credit-toggle').addEventListener('change', function () {
      document.getElementById('childcare-expenditures').style.display = this.checked ? 'block' : 'none';
    });

    document.getElementById('opp-zone-toggle').addEventListener('change', function () {
      document.getElementById('opp-zone-section').style.display = this.checked ? 'block' : 'none';
    });

    document.getElementById('fuel-tax-toggle').addEventListener('change', function () {
      document.getElementById('fuel-expenses').style.display = this.checked ? 'block' : 'none';
    });

    function calculateSavings() {
      const income = parseFloat(document.getElementById('income').value) || 0;
      const status = document.getElementById('filing-status').value;
      let total = 0;

      const childcareChecked = document.getElementById('childcare-credit-toggle').checked;
      if (childcareChecked) {
        const facility = parseFloat(document.getElementById('facility-exp').value) || 0;
        const referral = parseFloat(document.getElementById('referral-exp').value) || 0;
        let childcareCredit = (0.25 * facility) + (0.10 * referral);
        childcareCredit = Math.min(childcareCredit, 150000);
        total += childcareCredit;
      }

      const oppZoneChecked = document.getElementById('opp-zone-toggle').checked;
      if (oppZoneChecked) {
        const deferred = parseFloat(document.getElementById('deferred-gain').value) || 0;
        const fmv = parseFloat(document.getElementById('fair-market-value').value) || 0;
        const basis = parseFloat(document.getElementById('basis-value').value) || 0;
        const minValue = Math.min(deferred, fmv);
        const reportableGain = minValue - basis;
        total += Math.max(0, reportableGain);
      }

      const fuelChecked = document.getElementById('fuel-tax-toggle').checked;
      if (fuelChecked) {
        const fuelExp = parseFloat(document.getElementById('fuel-exp').value) || 0;
        total += fuelExp;
      }

      const cleanVehicle = document.getElementById('clean-vehicle-credit');
      if (cleanVehicle.checked) {
        let limit = 150000;
        if (status === 'head') limit = 225000;
        else if (status === 'joint') limit = 300000;
        if (income <= limit) {
          total += parseFloat(cleanVehicle.getAttribute('data-value'));
        }
      }

      const checkboxes = document.querySelectorAll('.credit:checked');
      checkboxes.forEach(box => {
        if (box.id !== 'clean-vehicle-credit') {
          total += parseFloat(box.getAttribute('data-value'));
        }
      });

      document.getElementById('income-display').innerText = income.toLocaleString();
      document.getElementById('deduction-total').innerText = total.toLocaleString();
      document.getElementById('savings-estimate').innerText = total.toLocaleString();
      document.getElementById('results').style.display = 'block';
    }
  </script>

  <footer style="background: #2c3e50; color: white; text-align: center; padding: 1rem; margin-top: 2rem;">
  </footer>
</body>
</html>
